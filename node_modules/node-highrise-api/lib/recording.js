var utils = require('./utils');

var recording = function(client,xml){
	this.client = client;
	if (xml) {
		utils.parse_xml(this, xml);
	}
}

recording.prototype.get = function(options,callback){
	var cb = callback || options;
	var url = "/recordings.xml";

	if (options)
	{
		var first = true;

		for (var k in options) {
			url += first ? '?' : '&';
			url += k + '=' + escape(options[k]);
			first = false;
		}
	}

	this.client.get_items(url, cb, require('./recording'), 'recordings', 'recording');
}

module.exports = recording;